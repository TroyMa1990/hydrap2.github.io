(function(t){function e(e){for(var l,s,o=e[0],r=e[1],c=e[2],u=0,p=[];u<o.length;u++)s=o[u],n[s]&&p.push(n[s][0]),n[s]=0;for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l]);h&&h(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],l=!0,o=1;o<i.length;o++){var r=i[o];0!==n[r]&&(l=!1)}l&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var l={},n={app:0},a=[];function s(e){if(l[e])return l[e].exports;var i=l[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=l,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)s.d(i,l,function(e){return t[e]}.bind(null,l));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=r;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0371":function(t,e,i){"use strict";var l=i("9998"),n=i.n(l);n.a},"36fe":function(t,e,i){},"386a":function(t,e,i){"use strict";var l=i("e8ff"),n=i.n(l);n.a},"4ad4":function(t,e,i){"use strict";var l=i("36fe"),n=i.n(l);n.a},5224:function(t,e,i){"use strict";var l=i("9114"),n=i.n(l);n.a},5520:function(t,e,i){"use strict";var l=i("f2b8"),n=i.n(l);n.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var l,n=i("a026"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Content",[i("router-view")],1)],1)},s=[],o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-line"},[i("div",{staticClass:"out-logo"},[i("i",{staticClass:"logo1"})]),i("div",{staticClass:"layout-logo"},[t._v("\n      水环境精细化管理决策支持系统 \n    ")]),i("div",{staticClass:"layout-right"},[i("i",{staticClass:"search"}),i("div",{staticClass:"title"},[t._v("\n      宝安管理员\n    ")]),i("i",{staticClass:"tx"}),i("div",{staticClass:"exit"})])])}],c={components:{}},h=c,u=(i("0371"),i("2877")),p=Object(u["a"])(h,o,r,!1,null,null,null),g=p.exports,v={components:{MyHeader:g}},d=v,m=(i("7c55"),Object(u["a"])(d,a,s,!1,null,null,null)),f=m.exports,w=i("8c4f"),x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home1",style:{height:t.contentHeight}},[t._m(0),t._m(1),i("Select",{staticStyle:{width:"120px","padding-top":"10px","text-align":"center",height:"120px","line-height":"30px","border-radius":"100%",position:"absolute","margin-top":"7%",left:"5%","z-index":"999"},attrs:{clearable:""},model:{value:t.model8,callback:function(e){t.model8=e},expression:"model8"}},t._l(t.cityList,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1),t._m(2),t._m(3),t._m(4),t._m(5),i("div",{staticStyle:{height:"100%",width:"100%","/* height":"100%","*/\n  overflow":"hidden",position:"relative","z-index":"0","background-color":"rgb(243, 241, 236)",color:"rgb(0, 0, 0)","text-align":"left"}},[i("baidu-map",{staticClass:"bm-view",attrs:{id:"bm-view",center:t.center,zoom:t.zoom,"scroll-wheel-zoom":!0,"inertial-dragging":!0},on:{ready:t.handler,zoomend:t.syncCenterAndZoom,rightclick:t.clearBest}},[i("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT"}}),t.showLine&&t.showLine.length>0?i("div",[i("bm-polygon",{attrs:{path:t.polygonPath,fillColor:"rgba(182,214,248,1)","stroke-color":"rgba(182,214,248,1)","stroke-opacity":1,"stroke-weight":2,editing:!1}}),t._l(t.showLine,function(t,e){return i("bm-polygon",{key:e+"10",attrs:{path:t.pipeline,fillColor:"rgba(182,214,248,1)","stroke-color":"rgba(182,214,248,1)","stroke-opacity":1,"stroke-weight":2,editing:!1}})})],2):t._e(),t._l(t.allArr["side"],function(e,l){return i("bm-marker",{key:l+0,attrs:{position:{lng:e.lng,lat:e.lat},dragging:!1,icon:{url:"http://troyma1990.github.io/static/img/x"+e.multi+"/s"+e.level+".png",size:{width:40,height:40}},title:e.tips},on:{click:function(i){return t.change(1,e,l)}}})}),t._l(t.allArr["line"],function(e,l){return i("bm-marker",{key:l+20,attrs:{position:{lng:e.position.lng,lat:e.position.lat},dragging:!1,icon:{url:"http://troyma1990.github.io/static/img/x"+e.multi+"/l"+e.level+".png",size:{width:40,height:40}},title:e.tips},on:{click:function(i){return t.change(2,e,l)}}})}),t._l(t.allArr["point"],function(e,l){return i("bm-marker",{key:l+1e3,attrs:{position:{lng:e.lng,lat:e.lat},dragging:!1,icon:{url:"http://troyma1990.github.io/static/img/x"+e.multi+"/p"+e.level+".png",size:{width:40,height:40}},title:e.tips},on:{click:function(i){return t.change(3,e,l)}}})}),t.showLine&&t.showLine.length>0?i("div",[t._l(t.showLine,function(t,e){return i("bm-label",{key:e+"xx",attrs:{content:t.tip.content,position:{lng:t.tip.lng,lat:t.tip.lat},labelStyle:{color:"red",fontSize:"24px"},title:"Hover me"}})}),t._l(t.showLine,function(e,l){return i("zone-overlay",{key:l+"xixi",attrs:{position:{lng:e.center.lng,lat:e.center.lat},text:e},nativeOn:{mouseover:function(i){return t.selectZone(e,l)},mouseleave:function(e){return t.cancelZone(e)},click:function(i){return t.selZone(e,l)}}})})],2):t._e(),t.showPoint&&t.showPoint.length>0?i("div",t._l(t.showPoint,function(t,e){return i("tip-overlay",{key:e,attrs:{position:{lng:t.lng,lat:t.lat},text:t}})}),1):t._e(),t.showZone1?t._e():i("div")],2)],1)],1)},b=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-logo"},[i("i",{staticClass:"logo"}),t._v("\n    水环境精细化管理决策支持平台\n  ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout-right2"},[i("i",{staticClass:"search"}),i("div",{staticClass:"title"},[t._v("环境监察支队")]),i("i",{staticClass:"tx"}),i("div",{staticClass:"exit"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tipArr"},[i("div",{staticClass:"pointList"},[i("div",{staticClass:"title"},[t._v("污染源")]),i("div",{staticClass:"items"},[i("i",{staticClass:"l1"}),i("i",{staticClass:"l2"}),i("i",{staticClass:"l3"}),i("i",{staticClass:"l4"})])]),i("div",{staticClass:"lineList"},[i("div",{staticClass:"title"},[t._v("管网")]),i("div",{staticClass:"items"},[i("i",{staticClass:"l1"}),i("i",{staticClass:"l2"}),i("i",{staticClass:"l3"}),i("i",{staticClass:"l4"})])]),i("div",{staticClass:"sideList"},[i("div",{staticClass:"title"},[t._v("水环境")]),i("div",{staticClass:"items"},[i("i",{staticClass:"l1"}),i("i",{staticClass:"l2"}),i("i",{staticClass:"l3"}),i("i",{staticClass:"l4"})])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"circle1",staticStyle:{"font-size":"17px","font-weight":"600","background-image":"url('http://troyma1990.github.io/static/img/circle.png')","background-repeat":"no-repeat","background-size":"100% 100%","padding-top":"30px","text-align":"center",height:"120px","line-height":"30px",width:"120px","border-radius":"100%",position:"absolute","margin-top":"10%",left:"83%","z-index":"999",color:"#333"}},[t._v("\n    水环境\n    "),i("br"),t._v("监控中心\n  ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"circle",staticStyle:{"font-size":"17px","background-image":"url('http://troyma1990.github.io/static/img/circle.png')","background-repeat":"no-repeat","background-size":"100% 100%","font-weight":"600","padding-top":"30px","text-align":"center",height:"120px","line-height":"30px",width:"120px","border-radius":"100%",position:"absolute","margin-top":"21%",left:"83%","z-index":"999",color:"#333"}},[t._v("\n    管网\n    "),i("br"),t._v("监控中心\n  ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"circle",staticStyle:{"font-size":"17px","background-image":"url('http://troyma1990.github.io/static/img/circle.png')","background-repeat":"no-repeat","background-size":"100% 100%","font-weight":"600","padding-top":"30px","text-align":"center",height:"120px","line-height":"30px",width:"120px","border-radius":"100%",position:"absolute","margin-top":"32%",left:"83%","z-index":"999",color:"#333"}},[t._v("\n    污染源\n    "),i("br"),t._v("监控中心\n  ")])}],y=(i("7f7f"),i("ac6a"),i("456d"),i("bd86")),k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("bm-overlay",{ref:"customOverlay",staticClass:"zone",attrs:{pane:"markerShadow"},on:{draw:t.draw}},[i("div")])},O=[],C={props:["text","position","active"],watch:{position:{handler:function(){},deep:!0}},methods:{draw:function(t){var e=t.el,i=t.BMap,l=t.map,n=this.position,a=n.lng,s=n.lat,o=l.pointToOverlayPixel(new i.Point(a,s));e.style.left=o.x-82+"px",e.style.top=o.y-82+"px"}}},_=C,A=(i("5224"),Object(u["a"])(_,k,O,!1,null,"79c86c39",null)),M=A.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("bm-overlay",{ref:"customOverlay",staticClass:"zone1",attrs:{pane:"floatPane"},on:{draw:t.draw}},[i("div",{staticClass:"arrow "}),i("div",{staticClass:"zone"},[i("div",{staticClass:"right"},[i("div",{staticClass:"title"},[t._v("xx监测点名称")]),i("div",{staticClass:"subTitle"},[t._v("实时数据")]),i("div",{staticClass:"left"},[i("p",[t._v("水位：22.20 cm")]),i("p",[t._v("流速：2.35 m/s")]),i("p",[t._v("瞬时流速：/")]),i("p",[t._v("pH：7.2")])]),i("div",{staticClass:"center"}),i("div",{staticClass:"rightl"},[i("p",[t._v("COD：10 mg/l")]),i("p",[t._v("氨氮：8.211 mg/l")]),i("p",[t._v("六价铬：0.03mg/l")]),i("p",[t._v("总磷：**mg/l")]),i("p",[t._v("总铜：**mg/l")]),i("p",[t._v("总镍：**mg/l")])])])])])},z=[],L={props:["text","position","active"],watch:{position:{handler:function(){},deep:!0}},methods:{draw:function(t){var e=t.el,i=t.BMap,l=t.map,n=this.position,a=n.lng,s=n.lat,o=l.pointToOverlayPixel(new i.Point(a,s));e.style.left=o.x-82+"px",e.style.top=o.y-82+"px"}}},j=L,B=(i("386a"),Object(u["a"])(j,P,z,!1,null,"2551dcd8",null)),E=B.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("bm-overlay",{ref:"customOverlay",staticClass:"around",attrs:{pane:"labelPane"},on:{draw:t.draw}},[i("div",[i("p",[t._v(t._s(t.text.title))]),i("p",[t._v(t._s(Math.ceil(t.text.initialPrice/1e4))+"万")])])])},S=[],$={props:["text","position","active"],watch:{position:{handler:function(){this.$refs.customOverlay.reload()},deep:!0}},methods:{draw:function(t){var e=t.el,i=t.BMap,l=t.map,n=this.position,a=n.lng,s=n.lat,o=l.pointToOverlayPixel(new i.Point(a,s));e.style.left=o.x-61+"px",e.style.top=o.y-18+"px"}}},N=$,D=(i("5520"),Object(u["a"])(N,Z,S,!1,null,"1c650594",null)),I=D.exports,T=(i("4b0c"),{name:"home",components:{tipOverlay:E,zoneOverlay:M,aroundOverlay:I},data:function(){return{sideIcon:{},showLine:[],showPoint:[],showLineNow:!1,allArr:{side:{1:{lng:114.045611,lat:22.510578,line:[1,2,3,4,5,6,7],point:[[1,2,3],[4,5,6,7]],level:1,multi:1,tips:"xx监测名称"},2:{lng:114.050336,lat:22.517523,line:[3,4,5,6,7],point:[[8,9,10,11,12]],level:2,multi:1,tips:"xx监测名称"},3:{lng:114.051576,lat:22.520143,line:[4,5,6,7],point:[[13,14,15,16]],level:3,multi:1,tips:"xx监测名称"},4:{lng:114.053408,lat:22.523048,line:[5,6,7],point:[[17,18,19,20,21],[22,23,24,25,26,27]],level:4,multi:1,tips:"xx监测名称"},5:{lng:114.054666,lat:22.525051,line:[7],point:[[28,29,30]],level:1,multi:1,tips:"xx监测名称"}},line:{1:{position:{lng:114.047794,lat:22.516471},far:{lng:114.046743,lat:22.517977},near:{lng:114.04845,lat:22.515724},center:{lng:114.04686,lat:22.517982},pipeline:[{lng:114.04845,lat:22.514785},{lng:114.048773,lat:22.515186},{lng:114.04721,lat:22.517957},{lng:114.046833,lat:22.517873}],tip:{lng:114.045301,lat:22.520095,content:"2家超标/共3家"},side:[1],point:[1,2,3],level:3,multi:1,tips:"xx监测名称"},2:{position:{lng:114.050417,lat:22.514683},far:{lng:114.053983,lat:22.514322},near:{lng:114.048647,lat:22.514689},center:{lng:114.053759,lat:22.514242},pipeline:[{lng:114.048576,lat:22.514618},{lng:114.054064,lat:22.514317},{lng:114.05401,lat:22.514818},{lng:114.048989,lat:22.515169}],tip:{lng:114.052169,lat:22.516237,content:"2家超标/共4家"},side:[1],point:[4,5,6,7],level:3,multi:1,tips:"xx监测名称"},3:{position:{lng:114.049483,lat:22.520344},far:{lng:114.047839,lat:22.522518},near:{lng:114.05021,lat:22.519229},center:{lng:114.047848,lat:22.522497},pipeline:[{lng:114.050633,lat:22.518324},{lng:114.050902,lat:22.518691},{lng:114.047956,lat:22.522514},{lng:114.047489,lat:22.522447}],tip:{lng:114.045786,lat:22.527014,content:"1家超标/共5家"},side:[2,1],point:[8,9,10,11,12],level:3,multi:1,tips:"xx监测名称"},4:{position:{lng:114.053714,lat:22.52145},far:{lng:114.0579,lat:22.52205},near:{lng:114.052402,lat:22.52145},center:{lng:114.057855,lat:22.522013},pipeline:[{lng:114.052339,lat:22.521295},{lng:114.057801,lat:22.521579},{lng:114.057927,lat:22.52243},{lng:114.052627,lat:22.521679}],tip:{lng:114.05476,lat:22.526246,content:"2家超标/共4家"},side:[3,2,1],point:[13,14,15,16],level:3,multi:1,tips:"xx监测名称"},5:{position:{lng:114.052205,lat:22.526557},far:{lng:114.049833,lat:22.529512},near:{lng:114.053534,lat:22.524054},center:{lng:114.049869,lat:22.529528},pipeline:[{lng:114.05392,lat:22.523882},{lng:114.049698,lat:22.529307},{lng:114.049986,lat:22.530008},{lng:114.054118,lat:22.524183}],tip:{lng:114.04698,lat:22.534024,content:"0家超标/共5家"},side:[4,3,2,1],point:[17,18,19,20,21],level:1,multi:1,tips:"xx监测名称"},6:{position:{lng:114.059382,lat:22.524817},far:{lng:114.065769,lat:22.525789},near:{lng:114.053534,lat:22.524054},center:{lng:114.065697,lat:22.525789},pipeline:[{lng:114.05392,lat:22.523882},{lng:114.065742,lat:22.525568},{lng:114.065688,lat:22.526253},{lng:114.054118,lat:22.524183}],tip:{lng:114.062719,lat:22.530052,content:"2家超标/共6家"},side:[4,3,2,1],point:[22,23,24,25,26,27,28],level:3,multi:1,tips:"xx监测名称"},7:{position:{lng:114.057271,lat:22.527125},far:{lng:114.062302,lat:22.530847},near:{lng:114.054433,lat:22.525723},center:{lng:114.061305,lat:22.530809},pipeline:[{lng:114.054873,lat:22.525919},{lng:114.055124,lat:22.525735},{lng:114.062526,lat:22.530743},{lng:114.061646,lat:22.530843}],tip:{lng:114.058637,lat:22.534899,content:"0家超标/共3家"},side:[5,4,3,2,1],point:[29,30,31],level:1,multi:1,tips:"xx监测名称"}},point:{1:{lng:114.046536,lat:22.518641,side:[1],line:[1],level:3,multi:1,tips:"xx监测名称"},2:{lng:114.045979,lat:22.517272,side:[1],line:[1],level:1,multi:1,tips:"xx监测名称"},3:{lng:114.047004,lat:22.517856,side:[1],line:[1],level:3,multi:1,tips:"xx监测名称"},4:{lng:114.053471,lat:22.514685,side:[1],line:[2],level:1,multi:1,tips:"xx监测名称"},5:{lng:114.054513,lat:22.514585,side:[1],line:[2],level:3,multi:1,tips:"xx监测名称"},6:{lng:114.054621,lat:22.513817,side:[1],line:[2],level:3,multi:1,tips:"xx监测名称"},7:{lng:114.053435,lat:22.513767,side:[1],line:[2],level:4,multi:1,tips:"xx监测名称"},8:{lng:114.047794,lat:22.523165,side:[2,1],line:[3],level:1,multi:1,tips:"xx监测名称"},9:{lng:114.047183,lat:22.52248,side:[2,1],line:[3],level:2,multi:1,tips:"xx监测名称"},10:{lng:114.048405,lat:22.522964,side:[2,1],line:[3],level:1,multi:1,tips:"xx监测名称"},11:{lng:114.048531,lat:22.522614,side:[2,1],line:[3],level:1,multi:1,tips:"xx监测名称"},12:{lng:114.048081,lat:22.521696,side:[2,1],line:[3],level:3,multi:1,tips:"xx监测名称"},13:{lng:114.057478,lat:22.522564,side:[3,2,1],line:[4],level:3,multi:1,tips:"xx监测名称"},14:{lng:114.058358,lat:22.522347,side:[3,2,1],line:[4],level:4,multi:1,tips:"xx监测名称"},15:{lng:114.058268,lat:22.521562,side:[3,2,1],line:[4],level:3,multi:1,tips:"xx监测名称"},16:{lng:114.057478,lat:22.521612,side:[3,2,1],line:[4],level:2,multi:1,tips:"xx监测名称"},17:{lng:114.049698,lat:22.529992,side:[4,3,2,1],line:[5],level:1,multi:1,tips:"xx监测名称"},18:{lng:114.04924,lat:22.529562,side:[4,3,2,1],line:[5],level:1,multi:1,tips:"xx监测名称"},19:{lng:114.04942,lat:22.528877,side:[4,3,2,1],line:[5],level:4,multi:1,tips:"xx监测名称"},20:{lng:114.050264,lat:22.528894,side:[4,3,2,1],line:[5],level:4,multi:1,tips:"xx监测名称"},21:{lng:114.050552,lat:22.529528,side:[4,3,2,1],line:[5],level:4,multi:1,tips:"xx监测名称"},22:{lng:114.065967,lat:22.52629,side:[4,3,2,1],line:[6],level:4,multi:1,tips:"xx监测名称"},23:{lng:114.066182,lat:22.525739,side:[4,3,2,1],line:[6],level:4,multi:1,tips:"xx监测名称"},24:{lng:114.066182,lat:22.525739,side:[5,4,3,2,1],line:[6],level:3,multi:1,tips:"xx监测名称"},25:{lng:114.065518,lat:22.525072,side:[4,3,2,1],line:[6],level:1,multi:1,tips:"xx监测名称"},26:{lng:114.065015,lat:22.525572,side:[4,3,2,1],line:[6],level:2,multi:1,tips:"xx监测名称"},27:{lng:114.064997,lat:22.526173,side:[4,3,2,1],line:[6],level:3,multi:1,tips:"xx监测名称"},28:{lng:114.066236,lat:22.525155,side:[5,4,3,2,1],line:[6],level:1,multi:1,tips:"xx监测名称"},29:{lng:114.061511,lat:22.531465,side:[5,4,3,2,1],line:[7],level:1,multi:1,tips:"xx监测名称"},30:{lng:114.061152,lat:22.530446,side:[5,4,3,2,1],line:[7],level:1,multi:1,tips:"xx监测名称"},31:{lng:114.062374,lat:22.530463,side:[5,4,3,2,1],line:[7],level:1,multi:1,tips:"xx监测名称"}}},polygonPath:[{lng:114.054756,lat:22.525885},{lng:114.044731,lat:22.510261},{lng:114.044695,lat:22.509393},{lng:114.045773,lat:22.509844},{lng:114.055079,lat:22.525802}],polygonPath2:[{lng:114.046527,lat:22.524951},{lng:114.049923,lat:22.518224},{lng:114.049528,lat:22.518057},{lng:114.045647,lat:22.5248}],intervalM:null,sideinterval:null,showZone1:!1,item1:{lng:114.045733,lat:22.524993,gcount:"10",zcount:"35",name:"福田区"},wait:0,contentHeight:"",showBoundary:!1,moveP:null,points:[],comPolylinePath:[{lng:114.045733,lat:22.524993},{lng:114.062405,lat:22.523651},{lng:114.045733,lat:22.514993},{lng:114.050417,lat:22.514683},{lng:114.050048,lat:22.517142},{lng:114.049761,lat:22.516474},{lng:114.045557,lat:22.510398}],mask:null,zoneGeoPoints:[{lng:114.045733,lat:22.524993,gcount:"10",zcount:"35",name:"福田区"}],zoom:17,posCity:"深圳",center:{lng:114.050443,lat:22.517876},showZone:!0,show1:!1,show2:!1,show3:!1,show4:!1,show5:!1,show6:!1,show7:!1,lushu:null,path:null,opt:null,map:null,carMk:null,drivingPoint:null,terminalPoint:null,allLine:[],myEvent:null,cityList:[{value:"COD",label:"COD"},{value:"氨氮",label:"氨氮"},{value:"PH",label:"PH"},{value:"...",label:"..."}],model8:"",constZ:15,special:null,moveLineN:null,MoveP:null}},watch:{contentHeight:function(){return"".concat(window.screen.availHeight-80,"px")}},mounted:function(){this.contentHeight="".concat(window.screen.availHeight-80,"px"),console.log(this.contentHeight),window.onresize=function(){this.contentHeight="".concat(window.screen.availHeight-80,"px")},this.myEvent=new CustomEvent("remove",{detail:{title:"This is title!"}})},methods:(l={moveLineNow:function(t,e){var i=this.map;this.moveLineN=new MoveLine(i,{markerRadius:2,markerColor:e,lineType:"solid",lineWidth:6,colors:[e,"#F8AB60","#EDCC72","#E2F194","#94E08A","#4ECDA5"],moveRadius:5,fillColor:"#fff",shadowColor:"#fff",shadowBlur:5,data:t})},addMask:function(t,e){var i=[];console.log(this.MoveLineN);var l=new BMap.Point(170.672126,81.291804),n=new BMap.Point(-169.604276,81.291804),a=new BMap.Point(-169.604276,-68.045308),s=new BMap.Point(170.672126,-68.045308);e&&e.length>0&&i.push(i[0]),i.push(l),i.push(s),i.push(a),i.push(n),i.push(l),this.mask=new BMap.Polygon(i,Object(y["a"])({strokeColor:"none",fillColor:"rgba(58, 58, 58, 0.6);",strokeOpacity:1,fillOpacity:.5},"fillColor","#000")),t.addOverlay(this.mask)},clearBest:function(){var t=this.map;window.dispatchEvent&&this.myEvent&&window.dispatchEvent(this.myEvent),console.log(t),this.mask&&t.removeOverlay(this.mask),this.mask=null,this.clearNow()},clearNow:function(){this.special=null;for(var t=this,e=this.map,i=0;i<10;i++){var l=document.getElementsByTagName("canvas");if(l&&l.length>0)for(var n=0;n<l.length;n++){var a=l[n].getContext("2d");a.clearRect(0,0,l[n].width,l[n].height),a.beginPath(),l[n].parentNode.removeChild(l[n])}}for(var s=0;s<this.allLine.length;s++)e.removeOverlay(this.allLine[s]);for(var o=1;o<Object.keys(t.allArr["side"]).length+1;o++)t.allArr["side"][o].multi=1;for(var r=1;r<Object.keys(this.allArr["line"]).length+1;r++)t.allArr["line"][r].multi=1;for(var c=1;c<Object.keys(t.allArr["point"]).length+1;c++)t.allArr["point"][c].multi=1;this.showLine=[],this.showPoint=[],this.carMk&&e.removeOverlay(this.carMk),this.intervalM&&clearInterval(this.intervalM),this.sideinterval&&clearInterval(this.sideinterval),this.showLineNow=!1,this.moveP&&clearInterval(this.moveP)},initIcon:function(){for(var t=this,e=1;e<Object.keys(t.allArr["side"]).length+1;e++)t.allArr["side"][e].multi=1;for(var i=1;i<Object.keys(this.allArr["line"]).length+1;i++)t.allArr["line"][i].multi=1;for(var l=1;l<Object.keys(t.allArr["point"]).length+1;l++)t.allArr["point"][l].multi=1},clearAll:function(){var t=this.map;t.removeOverlay(this.carMk)},change:function(t,e,i){var l=this,n=null;switch(t){case 1:n=this.moveSide;break;case 2:n=this.moveLine;break;case 3:n=this.movePoint;break}1==this.wait?(this.clearNow(),setTimeout(function(){l.clearNow()},50),setTimeout(function(){l.clearNow()},150),setTimeout(function(){n(e,i)},200),this.wait=0):(this.wait++,setTimeout(function(){l.change(t,e,i)},2e3))},moveSide:function(t,e){this.clearNow();for(var i=this,l=1;l<Object.keys(i.allArr["side"]).length+1;l++)i.allArr["side"][l].multi=1;for(var n=1;n<Object.keys(this.allArr["line"]).length+1;n++)i.allArr["line"][n].multi=1;for(var a=1;a<Object.keys(i.allArr["point"]).length+1;a++)i.allArr["point"][a].multi=1;var s=this.map;s.removeOverlay(this.carMk);for(var o=0;o<this.allLine.length;o++)s.removeOverlay(this.allLine[o]);this.showLine.splice(0,this.showLine.length),this.showPoint.splice(0,this.showPoint.length),this.showPoint.push(this.allArr["side"][e]),this.showLineNow=!1,this.$forceUpdate(),this.allArr["side"][e].multi=2;var r=0;this.moveP=setInterval(function(){r++,i.allArr["side"][e].multi=r%2==0?2:3},300),t.multi=2;for(var c=[],h=[],u="blue",p=[],g=0;g<t.line.length;g++){var v=[];switch(v.push(this.allArr["line"][t["line"][g]].far),h.push(this.allArr["line"][t["line"][g]].far),v.push(this.allArr["line"][t["line"][g]].near),h.push(this.allArr["line"][t["line"][g]].near),this.allArr["line"][t["line"][g]].level){case 1:u="green";break;case 2:u="orange";break;case 3:u="red";break;case 4:u="gray";break}p.push(u),v.push({lng:t.lng,lat:t.lat}),h.push({lng:t.lng,lat:t.lat}),i.showLine.push(this.allArr["line"][t["line"][g]]),c.push(v)}i.showLineNow=!0,this.$forceUpdate(),this.points=h,!this.mask&&this.addMask(s),this.allLine.push(h);var d=1;this.openAutoDrive(c.shift(),p.shift(),d),this.sideinterval=setInterval(function(){c.length>0?i.openAutoDrive(c.shift(),p.shift(),d):clearInterval(this.sideinterval)},3e3)},moveLine:function(t,e){this.clearNow();for(var i=this,l=1;l<Object.keys(i.allArr["side"]).length+1;l++)i.allArr["side"][l].multi=1;for(var n=1;n<Object.keys(this.allArr["line"]).length+1;n++)i.allArr["line"][n].multi=1;for(var a=1;a<Object.keys(i.allArr["point"]).length+1;a++)i.allArr["point"][a].multi=1;var s=this.map;s.removeOverlay(this.carMk);for(var o=0;o<this.allLine.length;o++)s.removeOverlay(this.allLine[o]);this.showPoint.splice(0,this.showPoint.length),this.showPoint.push(this.allArr["line"][e].position),this.showLine.splice(0,this.showLine.length),this.showLineNow=!1,this.$forceUpdate(),this.allArr["line"][e].multi=2;var r=0;this.moveP=setInterval(function(){r++,i.allArr["line"][e].multi=r%2==0?2:3},300),t.multi=2;var c=[],h="blue";switch(t.level){case 1:h="green";break;case 2:h="orange";break;case 3:h="red";break;case 4:h="gray";break}c.push(t.far),i.showLine.push(t),this.$forceUpdate(),c.push(t.near);for(var u=0;u<t.side.length;u++)c.push({lng:this.allArr["side"][t["side"][u]].lng,lat:this.allArr["side"][t["side"][u]].lat});this.points=c,2==e&&(this.special=2),!this.mask&&this.addMask(s),this.showLineNow=!0,this.allLine.push(c),this.openAutoDrive(c,h)},movePoint:function(t,e){this.clearNow();for(var i=this,l=1;l<Object.keys(i.allArr["side"]).length+1;l++)i.allArr["side"][l].multi=1;for(var n=1;n<Object.keys(this.allArr["line"]).length+1;n++)i.allArr["line"][n].multi=1;for(var a=1;a<Object.keys(i.allArr["point"]).length+1;a++)i.allArr["point"][a].multi=1;var s=this.map;s.removeOverlay(this.carMk);for(var o=0;o<this.allLine.length;o++)s.removeOverlay(this.allLine[o]);this.showPoint.splice(0,this.showPoint.length),this.showPoint.push(this.allArr["point"][e]),this.showLine&&this.showLine.length>0&&this.showLine.splice(0,this.showLine.length),this.showLineNow=!1,this.$forceUpdate(),this.allArr["point"][e].multi=2;var r=0;this.moveP=setInterval(function(){r++,i.allArr["point"][e].multi=r%2==0?2:3},300),t.multi=2;var c=[],h="blue";switch(t.level){case 1:h="green";break;case 2:h="orange";break;case 3:h="red";break;case 4:h="gray";break}c.push({lng:t.lng,lat:t.lat}),this.showLine.push(this.allArr["line"][t["line"][0]]),this.$forceUpdate(),c.push(this.allArr["line"][t["line"][0]].near);for(var u=0;u<t.side.length;u++)c.push({lng:this.allArr["side"][t["side"][u]].lng,lat:this.allArr["side"][t["side"][u]].lat});this.points=c,console.log("xixi",this.points),2==t["line"][0]&&(this.special=2),!this.mask&&this.addMask(s),this.allLine.push(c),this.$forceUpdate();var p=3;this.showLineNow=!0,this.openAutoDrive(c,h,p)},checkMove:function(t,e,i){switch(t){case 1:break;case 2:break;case 3:break}},openAutoDrive:function(t,e,i){this.showZone1=!0;var l=this.map;if(t&&t.length>0){var n,a=t,s=l.getViewport(this.points);this.special&&2==this.special?l.centerAndZoom(s.center,s.zoom-1):l.centerAndZoom(s.center,s.zoom),this.drivingPoint=new BMap.Icon("http://troyma1990.github.io/static/img/x2/p1.png",new BMap.Size(52,26),{anchor:new BMap.Size(27,13),imageSize:new BMap.Size(52,26)});var o=this,r=0;this.intervalM=setInterval(function(){r>=a.length?clearInterval(this.intervalM):(o.drowLine(l,a[r],a[r+1],o,e,n),r+=1)},750),this.showZone=!1,this.showZone1=!0}},drowLine:function(t,e,i,l,n,a){if(void 0!=i){var s=[{0:e,1:i}];this.moveLineNow(s,n),l.addMarkerEnd(a,new BMap.Point(i.lng,i.lat),"小车行驶",t,i,new BMap.Point(e.lng,e.lat))}else l.addMarkerEnd(a,new BMap.Point(e.lng,e.lat),"终点",t)},addStartMarker:function(t,e,i){if("起点"==e){var l=new BMap.Icon("../../assets/png/point/pgreen.png",new BMap.Size(45,45),{anchor:new BMap.Size(20,45),imageSize:new BMap.Size(45,45)});window.marker=new BMap.Marker(t,{icon:l}),i.addOverlay(marker)}},addMarkerEnd:function(t,e,i,l,n,a){"小车行驶"==i?(this.carMk&&l.removeOverlay(this.carMk),this.carMk=new BMap.Marker(e,{icon:null}),this.carMk.setRotation(n.route),l.addOverlay(this.carMk)):(l.removeOverlay(this.carMk),l.addOverlay(this.carMk))},getAngle:function(t,e){var i,l=t.lat/180*Math.PI,n=t.lng/180*Math.PI,a=e.lat/180*Math.PI,s=e.lng/180*Math.PI;i=4*Math.pow(Math.sin((l-a)/2),2)-Math.pow(Math.sin((n-s)/2)*(Math.cos(l)-Math.cos(a)),2),i=Math.sqrt(i);var o=Math.sin((n-s)/2)*(Math.cos(l)+Math.cos(a));return console.log(o),i/=o,i=Math.atan(i)/Math.PI*180,i+=90,n-s<0?l-a<0||(i=180-i):i=l-a<0?180+i:-i,i},update:function(t){this.points=t.target.cornerPoints},handleClick:function(){console.log("我点击了"),this.$router.push("test")},selectZone:function(t,e){this.zoneBoundary="".concat(this.posCity).concat(t.name),this.showTip={lng:t.tip.lng,lat:t.tip.lat,content:t.tip.content},this.showBoundary=!0},cancelZone:function(t){this.zoneBoundary="",this.showBoundary=!1},syncCenterAndZoom:function(t){this.zoom=t.target.getZoom(),this.showZone=this.zoom<this.constZ},handler:function(t){var e=t.map;this.map=e},infoWindowClose1:function(t){this.zoom>15&&(this.show1=!1)},infoWindowOpen1:function(t){this.zoom>15&&this.openAutoDrive(7)}},Object(y["a"])(l,"infoWindowClose1",function(t){this.zoom>15&&(this.show1=!1)}),Object(y["a"])(l,"infoWindowOpen2",function(t){this.zoom>15&&this.openAutoDrive(2)}),Object(y["a"])(l,"infoWindowClose2",function(t){}),Object(y["a"])(l,"infoWindowOpen3",function(t){this.zoom>15&&this.openAutoDrive(3)}),Object(y["a"])(l,"infoWindowClose3",function(t){}),Object(y["a"])(l,"infoWindowOpen4",function(t){this.zoom>15&&this.openAutoDrive(4)}),Object(y["a"])(l,"infoWindowClose4",function(t){}),Object(y["a"])(l,"infoWindowOpen4",function(t){this.zoom>15&&this.openAutoDrive(4)}),Object(y["a"])(l,"infoWindowClose5",function(t){}),Object(y["a"])(l,"infoWindowOpen5",function(t){this.openAutoDrive(5)}),Object(y["a"])(l,"infoWindowClose6",function(t){this.zoom>15&&this.openAutoDrive()}),Object(y["a"])(l,"infoWindowOpen6",function(t){this.zoom>15&&this.openAutoDrive(6)}),Object(y["a"])(l,"infoWindowClose7",function(t){}),Object(y["a"])(l,"infoWindowOpen7",function(t){this.zoom>15&&this.openAutoDrive(7)}),Object(y["a"])(l,"infoWindowOpen11",function(){this.showZone1=!0,this.openAutoDrive()}),Object(y["a"])(l,"selZone",function(t,e){this.showZone=!1,this.$set(this.center,"lng",t.lng),this.$set(this.center,"lat",t.lat),this.zoneBoundary="",this.showBoundary=!1,this.zoom=17}),Object(y["a"])(l,"syncCenterAndZoom",function(t){if(this.zoom=t.target.getZoom(),this.zoom>this.constZ){this.showZone=!1,this.showZone1=!1;var e=t.target.getCenter();e.lng,e.lat}else this.showZone=!0}),l)}),W=T,H=(i("4ad4"),Object(u["a"])(W,x,b,!1,null,"23ad2d34",null)),U=H.exports;n["default"].use(w["a"]);var R=new w["a"]({mode:"hash",base:"",routes:[{path:"/",name:"home",component:U}]}),G=i("2f62");n["default"].use(G["a"]);var F=new G["a"].Store({state:{},mutations:{},actions:{}}),q=i("e069"),J=i.n(q),V=(i("dcad"),i("bd0c")),X=i.n(V);n["default"].use(X.a,{ak:"7S0zO3f01VD2t4yYFsGq4pGHzoGcxXgC"}),n["default"].use(J.a),n["default"].config.productionTip=!1,new n["default"]({router:R,store:F,render:function(t){return t(f)}}).$mount("#app")},"5c48":function(t,e,i){},"7c55":function(t,e,i){"use strict";var l=i("5c48"),n=i.n(l);n.a},9114:function(t,e,i){},9998:function(t,e,i){},e8ff:function(t,e,i){},f2b8:function(t,e,i){}});